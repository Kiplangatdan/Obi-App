{"version":3,"sources":["../../src/pages/post-list/post-list.module.ts","../../src/pages/post-list/post-list.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PostListPage } from './post-list';\n\n@NgModule({\n  declarations: [\n    PostListPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PostListPage),\n  ],\n  exports: [\n    PostListPage\n  ]\n})\nexport class PostListPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/post-list/post-list.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController } from 'ionic-angular';\nimport { PostsProvider } from '../../providers/posts/posts';\nimport { Configure } from '../../providers/configure/configure';\n\n@IonicPage()\n@Component({\n  selector: 'page-post-list',\n  templateUrl: 'post-list.html',\n})\nexport class PostListPage {\n\n\titems: any;\n\tpage: number = 1;\n\troute: string;\n\n\tconstructor(\n\t\tpublic navCtrl: NavController, \n\t\tpublic navParams: NavParams,\n\t\tpublic postService: PostsProvider,\n\t\tpublic loadingCtrl: LoadingController,\n\t\tpublic toastCtrl: ToastController,\n\t\tpublic configure: Configure\n\t\t) {\n\n\t\tlet url = configure.getUrl()\n\n\t\t// put your desired WP-API route here. URL params, CPTs, and custom routes all OK\n\t\tthis.route = url + 'wp-json/wp/v2/posts'\n\t}\n\n\tionViewDidLoad() {\n\t\tthis.loadPosts()\n\t}\n\n\tloadPosts() {\n\n\t\tlet loading = this.loadingCtrl.create({\n\t\t    showBackdrop: false,\n\t\t    //dismissOnPageChange: true\n\t\t});\n\n\t\tloading.present(loading);\n\n\t\tthis.page = 1;\n\n\t\t// any menu imported from WP has to use same component. Other pages can be added manually with different components\n\t\tthis.postService.load( this.route, this.page ).then(items => {\n\n\t\t  // Loads posts from WordPress API\n\t\t  this.items = items;\n\n\t\t  // load more right away\n\t\t  this.loadMore(null);\n\t\t  loading.dismiss();\n\t\t}).catch((err) => {\n\n\t\t  loading.dismiss();\n\t\t  console.error('Error getting posts', err);\n\n\t\t});\n\n\t\t// make sure spinner never gets stuck on\n\t\tsetTimeout(() => {\n\t\t    loading.dismiss();\n\t\t}, 8000);\n\n\t}\n\n\titemTapped(event, item) {\n\n\t\tlet opt = {};\n\n\t\tthis.navCtrl.push('PostDetailPage', {\n\t\t  item: item\n\t\t}, opt);\n\t}\n\n\tdoRefresh(refresh) {\n\t\tthis.loadPosts();\n\t\t// refresh.complete should happen when posts are loaded, not timeout\n\t\tsetTimeout( ()=> refresh.complete(), 500);\n\t}\n\n\tloadMore(infiniteScroll) {\n\n\t\tthis.page++;\n\n\t\tthis.postService.load( this.route, this.page ).then(items => {\n\t\t  // Loads posts from WordPress API\n\t\t  let length = items[\"length\"];\n\n\t\t  if( length === 0 ) {\n\t\t    if(infiniteScroll)\n\t\t      infiniteScroll.complete();\n\t\t    return;\n\t\t  }\n\n\t\t  for (var i = 0; i < length; ++i) {\n\t\t    this.items.push( items[i] );\n\t\t  }\n\n\t\t  if(infiniteScroll)\n\t\t    infiniteScroll.complete();\n\n\t\t}).catch( e => {\n\t\t  // promise was rejected, usually a 404 or error response from API\n\t\t  if(infiniteScroll)\n\t\t    infiniteScroll.complete();\n\n\t\t  console.warn(e)\n\n\t\t});\n\n\t}\n\n\tpresentToast(msg) {\n\n\t\tlet toast = this.toastCtrl.create({\n\t\t  message: msg,\n\t\t  duration: 3000,\n\t\t  position: 'bottom',\n\t\t  cssClass: 'normal-toast'\n\t\t});\n\n\t\ttoast.present();\n\n\t}\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/post-list/post-list.ts"],"sourceRoot":""}